
@{
    ViewBag.Title = "UserOrder";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}


<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div id="tblUserOrder">
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        FillUserOrderList();
    });

    function FillUserOrderList() {
        $("#tblUserOrder").html('');

        $.ajax({
            url: "/Home/FillUserOrderList",
            typr: "POST",
            contentType: "application/json;charset=UTF-8",
            dataType: "json",
            success: function (response) {
                var html = '';

                $.each(response.lstModel, function (key, Item) {
                    html += '<div class="card mt-3" role="button" onclick="OrderDetails(\'' + Item.Id + '\');">';
                    html += '<div class="card-header bg-secondary text-warning">';
                    html += '<h5> Order No.: ' + Item.OrderNo + '</h5>';
                    html += '</div>';
                    html += '<div class="card-body row">';
                    html += '<div class="col-md-3">';
                    html += '<h6>';
                    html += '<div class="row">';
                    html += '<div class="mt-3 col-md-4"><strong>Order Date: </strong></div><div class="mt-3 col-md-7">' + Item.OrderDate + '</div>';
                    html += '</div>';
                    html += '<div class="row">';
                    html += '<div class="mt-3 col-md-4"><strong>Status: </strong></div><div class="mt-3 col-md-7">' + Item.OrderStatus + '</div>';
                    html += '</div>';
                    html += '</h6>';
                    html += '</div>';
                    html += '<div class="col-md-3">';
                    html += '<h6>';
                    html += '<div class="row">';
                    html += '<div class="mt-3 col-md-5"><strong>Amount: </strong></div><div class="mt-3 col-md-6">$ ' + Item.OrderAmount + '</div>';
                    html += '</div>';
                    html += '<div class="row">';
                    html += '<div class="mt-3 col-md-5"><strong>No. of Items: </strong></div><div class="mt-3 col-md-6">' + Item.ItemCount + '</div>';
                    html += '</div>';
                    html += '</h6>';
                    html += '</div>';
                    html += '<div class="col-md-6">';
                    html += '<div class="card">';
                    html += '<div class="card-header">';
                    html += 'Shipping Address';
                    html += '</div>';
                    html += '<div class="card-body ml-3">';
                    html += '<div class="row">';
                    html += '' + Item.SName + ' (' + Item.MobileNo + ')';
                    html += '</div>';
                    html += '<div class="row">';
                    html += Item.AddressLine1;
                    html += '</div>';
                    html += '<div class="row">';
                    html += Item.AddressLine2;
                    html += '</div>';
                    html += '<div class="row">';
                    html += Item.City + ' ' + Item.Province + ' ' + Item.PostalCode;
                    html += '</div>';
                    html += '<div class="row">';
                    html += Item.Country;
                    html += '</div>';
                    html += '</div>';
                    html += '</div>';
                    html += '</div>';
                    html += '</div>';
                    html += '</div>';
                });

                $("#tblUserOrder").html(html);
            },
            error: function (response) {
                alert(response.responseText)
            }
        });
    }

    function OrderDetails(OrderId) {
        window.location.href = "/Home/UserOrderDetail/" + OrderId
    }
</script>